<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0" />
    <meta name="author" content="火星科技 http://mars2d.cn " />
    <meta name="apple-touch-fullscreen" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="x5-fullscreen" content="true" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
    <link rel="shortcut icon" type="image/x-icon" href="http://mars2d.cn/favicon.ico" />

    <meta name="keywords" content="火星科技,leaflet,mars2d,GIS,marsgis,三维,地球,地图,开发,框架,系统,示例,资料,模型,离线,外包,合肥,安徽,中国" />
    <meta
      name="description"
      content="火星科技 合肥火星 合肥火星科技 合肥火星科技有限公司 leaflet leaflet框架 leaflet开发 leaflet leaflet开发 leaflet框架 三维 地球 模型  gis marsgis 地图离线 地图开发 地图框架 地图外包 框架 开发 外包  地图离线 二维地图 三维地图 全景漫游 地理信息系统 云GIS 三维GIS GIS平台 WebGIS"
    />

    <title>Mars2D地图 |二维地图| 火星科技|合肥火星科技|合肥火星科技有限公</title>

    <script
      type="text/javascript"
      src="../lib/include-lib.js"
      libpath="../lib/"
      include="jquery,font-awesome,bootstrap,layer,localforage,haoutil,mars2d,mars2d-widget"
    ></script>
    <link href="css/style.css" rel="stylesheet" />
  </head>
  <body>
    <div id="mars2dContainer" class="mars2d-container"></div>

    <script type="text/javascript">
      $(document).ready(function () {
        initMap();
      });

      //地图加载
      function initMap() {
        var map = new mars2d.Map("mars2dContainer", {
          crs: mars2d.CRS.BAIDU,
          zoom: 12,
          center: [31.834912, 117.220102],
          controls: {
            scale: true,
            locationBar: {
              template: "<div>经度:{lng}</div> <div>纬度:{lat}</div> <div>层级:{level}</div>",
            },
            zoom: { position: "bottomright" },
            toolBar: { position: "bottomright" },
          },
        });

        //地图底图 及图层控制控件
        var baseLayers = {
          百度地图: new mars2d.layer.BaiduLayer({ layer: "vec" }).addTo(map),
          百度卫星: new mars2d.layer.BaiduLayer({ layer: "img_d" }),
          "百度地图-大字体": new mars2d.layer.BaiduLayer({ layer: "vec", bigfont: true }),
          "百度卫星-大字体": new mars2d.layer.BaiduLayer({ layer: "img_d", bigfont: true }),
          离线百度瓦片: L.tileLayer("http://data.mars2d.cn/tile/baiduVec/{z}/{x}/{y}.jpg", {
            tms: true,
            errorTileUrl: "img/tile/errortile.png",
          }),
          //自定义样式地图，style可选值：dark,midnight,grayscale,hardedge,light,redalert,googlelite,grassgreen,pink,darkgreen,bluish
          "自定义样式-dark": new mars2d.layer.BaiduLayer({ layer: "custom", style: "dark" }),
          "自定义样式-midnight": new mars2d.layer.BaiduLayer({ layer: "custom", style: "midnight" }),
          "自定义样式-grayscale": new mars2d.layer.BaiduLayer({ layer: "custom", style: "grayscale" }),
          "自定义样式-hardedge": new mars2d.layer.BaiduLayer({ layer: "custom", style: "hardedge" }),
          "自定义样式-light": new mars2d.layer.BaiduLayer({ layer: "custom", style: "light" }),
          "自定义样式-redalert": new mars2d.layer.BaiduLayer({ layer: "custom", style: "redalert" }),
          "自定义样式-googlelite": new mars2d.layer.BaiduLayer({ layer: "custom", style: "googlelite" }),
          "自定义样式-grassgreen": new mars2d.layer.BaiduLayer({ layer: "custom", style: "grassgreen" }),
          "自定义样式-pink": new mars2d.layer.BaiduLayer({ layer: "custom", style: "pink" }),
          "自定义样式-darkgreen": new mars2d.layer.BaiduLayer({ layer: "custom", style: "darkgreen" }),
          "自定义样式-bluish": new mars2d.layer.BaiduLayer({ layer: "custom", style: "bluish" }),
        };
        var overlays = {
          实时交通信息: new mars2d.layer.BaiduLayer({ layer: "time" }),
          街景: new mars2d.layer.BaiduLayer({ layer: "streetview" }),
        };
        L.control.layers(baseLayers, overlays, { position: "topright" }).addTo(map);

        //测试坐标信息
        activatePOIQuery(map);
      }

      //附加：激活POI查询widget，用于在底图上叠加显示数据，【框架已自动纠偏处理】
      function activatePOIQuery(map) {
        mars2d.widget.activate({
          map: map,
          name: "POI查询",
          uri: "widgets/queryGaodePOI/widget.js",
          pointTransFun: mars2d.PointTrans.wgs2bd,
          success: function (item) {
            item.strartQueryPOI("天安门");
          },
        });
      }
    </script>
  </body>
</html>
